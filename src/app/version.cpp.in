/**
 * @file version.cpp
 * @brief Application version information - AUTO-GENERATED by CMake
 * @warning DO NOT EDIT MANUALLY - Edit version.cpp.in instead
 */
module;
#include <string>
#include <format>
#include <string_view>

module app.version;

namespace app::version {

// ─────────────────────────────────────────────────────────────────────────────
// Compile-time constants (injected by CMake)
// ─────────────────────────────────────────────────────────────────────────────

constexpr std::string_view app_name() noexcept {
    return "@PROJECT_NAME@";
}

constexpr std::string_view version() noexcept {
    return "@PROJECT_VERSION@";
}

constexpr int version_major() noexcept {
    return @PROJECT_VERSION_MAJOR@;
}

constexpr int version_minor() noexcept {
    return @PROJECT_VERSION_MINOR@;
}

constexpr int version_patch() noexcept {
    return @PROJECT_VERSION_PATCH@;
}

constexpr std::string_view build_time() noexcept {
    return "@BUILD_TIMESTAMP@";
}

constexpr std::string_view git_commit() noexcept {
    return "@GIT_COMMIT_HASH@";
}

constexpr std::string_view git_branch() noexcept {
    return "@GIT_BRANCH@";
}

// ─────────────────────────────────────────────────────────────────────────────
// Runtime functions
// ─────────────────────────────────────────────────────────────────────────────

std::string get_banner() {
    return std::format(
        R"(
╔═══════════════════════════════════════════════════════════════╗
║  {} v{}
║  Build: {} ({})
║  Branch: {}
╚═══════════════════════════════════════════════════════════════╝
)",
        app_name(), version(), build_time(), git_commit(), git_branch());
}

std::string get_version_string() {
    return std::format("{} v{} ({})", app_name(), version(), git_commit());
}

} // namespace app::version
