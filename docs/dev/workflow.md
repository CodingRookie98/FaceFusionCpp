### å·¥ä½œæµç¨‹

#### æµç¨‹æ¦‚è¿°
æœ¬å·¥ä½œæµç¨‹æ”¯æŒä¸¤ç§è·¯å¾„ï¼š**è¯„ä¼°è·¯å¾„**ï¼ˆéœ€è¦ä»£ç è´¨é‡è¯„ä¼°ï¼‰å’Œ**ç›´æ¥å®ç°è·¯å¾„**ï¼ˆæ— éœ€è¯„ä¼°ï¼‰ã€‚æµç¨‹è®¾è®¡éµå¾ª"TDD å¼ºåˆ¶ã€è‡ªåŠ¨åŒ–æ‰§è¡Œã€å¿«é€Ÿé€šé“"åŸåˆ™ã€‚

**æ ¸å¿ƒåŸåˆ™**ï¼š
1. æ‰€æœ‰å¼€å‘å·¥ä½œå¿…é¡»åœ¨ç‹¬ç«‹çš„åŠŸèƒ½/ä¿®å¤åˆ†æ”¯ä¸Šè¿›è¡Œï¼Œä¸¥ç¦ç›´æ¥ä¿®æ”¹ä¸»åˆ†æ”¯ã€‚
2. **TDD å¼ºåˆ¶**ï¼šæ‰€æœ‰ä»£ç ä¿®æ”¹å¿…é¡»éµå¾ªæµ‹è¯•é©±åŠ¨å¼€å‘æµç¨‹ã€‚

---

#### ğŸ§ª TDD å¼€å‘åŸåˆ™ (MANDATORY)

> âš ï¸ **æµ‹è¯•é©±åŠ¨å¼€å‘æ˜¯æœ¬é¡¹ç›®çš„å¼ºåˆ¶å¼€å‘æ–¹æ³•è®ºã€‚æ‰€æœ‰æ–°åŠŸèƒ½å’Œ bug ä¿®å¤éƒ½å¿…é¡»ä¸¥æ ¼éµå¾ªï¼Œæ— ä¾‹å¤–ã€‚**

**æ ¸å¿ƒæµç¨‹**
1. **ğŸ”´ Red**ï¼šå…ˆç¼–å†™å¤±è´¥çš„æµ‹è¯•ï¼Œæ˜ç¡®æœŸæœ›è¡Œä¸ºã€‚æµ‹è¯•å¿…é¡»èƒ½å¤Ÿç‹¬ç«‹è¿è¡Œä¸”åˆå§‹çŠ¶æ€ä¸ºå¤±è´¥ã€‚
2. **ğŸŸ¢ Green**ï¼šç¼–å†™**æœ€å°‘é‡**ä»£ç ä½¿æµ‹è¯•é€šè¿‡ã€‚ä¸åšè¿‡åº¦è®¾è®¡ï¼Œåªæ»¡è¶³å½“å‰æµ‹è¯•éœ€æ±‚ã€‚
3. **ğŸ”µ Refactor**ï¼šåœ¨æµ‹è¯•ä¿æŠ¤ä¸‹ä¼˜åŒ–ä»£ç ç»“æ„ã€‚ç¡®ä¿é‡æ„åæ‰€æœ‰æµ‹è¯•ä»ç„¶é€šè¿‡ã€‚

**TDD ç¦ä»¤**
- **ä¸¥ç¦**ï¼šåœ¨æ²¡æœ‰å¯¹åº”æµ‹è¯•çš„æƒ…å†µä¸‹ç¼–å†™æ–°åŠŸèƒ½ä»£ç ã€‚
- **ä¸¥ç¦**ï¼šå…ˆå†™å®ç°ä»£ç å†è¡¥æµ‹è¯•ï¼ˆäº‹åè¡¥æµ‹è¯•ä¸æ˜¯ TDDï¼‰ã€‚
- **ä¸¥ç¦**ï¼šä¸ºäº†é€šè¿‡æµ‹è¯•è€Œä¿®æ”¹æµ‹è¯•æœ¬èº«ï¼ˆé™¤éæµ‹è¯•é€»è¾‘ç¡®å®æœ‰è¯¯ï¼‰ã€‚
- **ä¸¥ç¦**ï¼šè·³è¿‡ Refactor é˜¶æ®µï¼ˆæŠ€æœ¯å€ºåŠ¡çš„ä¸»è¦æ¥æºï¼‰ã€‚

**TDD æ£€æŸ¥ç‚¹**
- æ¯ä¸ª PR/æäº¤å¿…é¡»åŒ…å«å¯¹åº”çš„æµ‹è¯•ä»£ç ã€‚
- æµ‹è¯•è¦†ç›–ç‡ä¸å¾—å› æ–°ä»£ç è€Œä¸‹é™ã€‚
- æµ‹è¯•å¿…é¡»æ˜¯**è¡Œä¸ºæµ‹è¯•**è€Œé**å®ç°æµ‹è¯•**ï¼ˆæµ‹è¯•"åšä»€ä¹ˆ"è€Œé"æ€ä¹ˆåš"ï¼‰ã€‚

---

#### ä¸Šä¸‹æ–‡ç®¡ç†è§„åˆ™ (Context Management)

> åŸºäº Manus AI çš„"ä¸Šä¸‹æ–‡å·¥ç¨‹"ç†å¿µï¼Œç¡®ä¿å…³é”®ä¿¡æ¯ä¸ä¸¢å¤±ã€‚

**1. 2-Action Ruleï¼ˆåŒæ“ä½œè§„åˆ™ï¼‰**
> æ¯ 2 æ¬¡æŸ¥çœ‹/æµè§ˆ/ç ”ç©¶æ“ä½œåï¼Œ**ç«‹å³**å°†å…³é”®å‘ç°å†™å…¥æ–‡æ¡£ã€‚

| æ“ä½œç±»å‹ | ç¤ºä¾‹                   | è®°å½•ä½ç½®                 |
| -------- | ---------------------- | ------------------------ |
| ä»£ç æµè§ˆ | é˜…è¯»æºç ã€æŸ¥çœ‹æ¥å£     | è®¡åˆ’æ–‡æ¡£çš„"ç ”ç©¶å‘ç°"ç« èŠ‚ |
| æ–‡æ¡£é˜…è¯» | æŸ¥é˜… API æ–‡æ¡£ã€è§„èŒƒ    | è®¡åˆ’æ–‡æ¡£çš„"ç ”ç©¶å‘ç°"ç« èŠ‚ |
| æµ‹è¯•è¿è¡Œ | æ‰§è¡Œæµ‹è¯•ã€è§‚å¯Ÿè¾“å‡º     | ä»»åŠ¡æ–‡æ¡£çš„"é—®é¢˜è®°å½•"ç« èŠ‚ |
| æœç´¢ç ”ç©¶ | æœç´¢è§£å†³æ–¹æ¡ˆã€æŸ¥é˜…ç¤ºä¾‹ | è®¡åˆ’æ–‡æ¡£çš„"ç ”ç©¶å‘ç°"ç« èŠ‚ |

**2. æŒä¹…åŒ–ä¼˜å…ˆåŸåˆ™**
```
ä¸Šä¸‹æ–‡çª—å£ = å†…å­˜ (æ˜“å¤±æ€§, æœ‰é™)
æ–‡ä»¶ç³»ç»Ÿ = ç£ç›˜ (æŒä¹…æ€§, æ— é™)

â†’ ä»»ä½•é‡è¦ä¿¡æ¯éƒ½åº”å†™å…¥ç£ç›˜ã€‚
```

**3. è¯»å†™å†³ç­–çŸ©é˜µ**

| åœºæ™¯           | æ“ä½œ                 | åŸå›                      |
| -------------- | -------------------- | ------------------------ |
| åˆšå†™å®Œæ–‡ä»¶     | **ä¸è¯»**             | å†…å®¹ä»åœ¨ä¸Šä¸‹æ–‡ä¸­         |
| æŸ¥çœ‹äº†å›¾åƒ/PDF | **ç«‹å³å†™**           | å¤šæ¨¡æ€ä¿¡æ¯éœ€è½¬ä¸ºæ–‡æœ¬ä¿å­˜ |
| ç ”ç©¶è¿”å›æ•°æ®   | **å†™å…¥æ–‡ä»¶**         | ç ”ç©¶ç»“æœä¸ä¼šæŒä¹…ä¿ç•™     |
| å¼€å§‹æ–°é˜¶æ®µ     | **è¯»å–è®¡åˆ’**         | é‡æ–°å®šä½ç›®æ ‡             |
| å‘ç”Ÿé”™è¯¯       | **è¯»å–ç›¸å…³æ–‡ä»¶**     | éœ€è¦å½“å‰çŠ¶æ€æ¥ä¿®å¤       |
| ä¸­æ–­åæ¢å¤     | **è¯»å–æ‰€æœ‰è®¡åˆ’æ–‡ä»¶** | æ¢å¤å·¥ä½œçŠ¶æ€             |

---

#### è¯„ä¼°è·¯å¾„ï¼ˆéœ€è¦ä»£ç è´¨é‡è¯„ä¼°ï¼‰

**é˜¶æ®µä¸€ï¼šä»£ç è¯„ä¼°**
1. è¯„ä¼°ä»£ç è´¨é‡
2. ç¼–å†™è¯„ä¼°æ–‡æ¡£ï¼ˆè·¯å¾„ï¼š`/docs/dev_docs/evaluation/C++_evaluation_{title}.md`ï¼‰
3. è¿›å…¥é˜¶æ®µäºŒ

**é˜¶æ®µäºŒï¼šè®¡åˆ’åˆ¶å®š**
4. æ ¹æ®è¯„ä¼°ç»“æœåˆ¶å®šå®æ–½è®¡åˆ’
5. è¿›å…¥é˜¶æ®µä¸‰

**é˜¶æ®µä¸‰ï¼šä»»åŠ¡æ–‡æ¡£ç”Ÿæˆ**
6. æ ¹æ®è®¡åˆ’æ‰¹é‡ç”Ÿæˆå­ä»»åŠ¡æ–‡æ¡£
   - è·¯å¾„ï¼š`/docs/dev_docs/plan/{plan_name}/task/C++_task_{task_name}.md`
   - æ ¼å¼ï¼šä¸­æ–‡ Markdown
7. è¿›å…¥é˜¶æ®µå››

**é˜¶æ®µå››ï¼šä»»åŠ¡å®ç°ï¼ˆåˆ†æ”¯æ“ä½œ + TDDï¼‰**
8. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**ï¼šåŸºäºå½“å‰å¼€å‘åˆ†æ”¯ï¼ˆå¦‚ `main`ï¼‰æ–°å»ºåˆ†æ”¯ï¼ˆä¾‹å¦‚ï¼š`feature/plan-{plan_name}`ï¼‰
9. **TDD å¾ªç¯å®ç°å­ä»»åŠ¡**ï¼š
   - ğŸ”´ ä¸ºå½“å‰å­ä»»åŠ¡ç¼–å†™å¤±è´¥æµ‹è¯•
   - ğŸŸ¢ ç¼–å†™æœ€å°‘é‡ä»£ç ä½¿æµ‹è¯•é€šè¿‡
   - ğŸ”µ é‡æ„ä¼˜åŒ–ä»£ç ç»“æ„
   - âœ… è¿è¡Œ `python build.py --action test` ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
10. æäº¤å­ä»»åŠ¡æ›´æ”¹åˆ° gitï¼ˆä»…æäº¤ä»£ç æ–‡ä»¶ï¼Œä¸æäº¤æ–‡æ¡£æ–‡ä»¶ï¼‰
11. æ›´æ–°ä»»åŠ¡æ–‡æ¡£çŠ¶æ€
    - å°†å¯¹åº”çš„å­ä»»åŠ¡æ–‡æ¡£çŠ¶æ€æ ‡è®°ä¸º"å·²å®Œæˆ"
    - è®°å½•å®Œæˆæ—¶é—´ä¸ç›¸å…³ commit ID
12. é‡å¤æ­¥éª¤ 9-11 ç›´åˆ°æ‰€æœ‰å­ä»»åŠ¡å®Œæˆ

**é˜¶æ®µäº”ï¼šå®ŒæˆéªŒæ”¶ä¸åˆå¹¶**
13. **æœ€ç»ˆéªŒè¯**ï¼šè¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
14. **åˆå¹¶åˆ†æ”¯**ï¼šå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶å›å¼€å‘ä¸»åˆ†æ”¯
15. **æ¸…ç†åˆ†æ”¯**ï¼šåˆ é™¤å·²åˆå¹¶çš„åŠŸèƒ½åˆ†æ”¯
16. æ›´æ–°è®¡åˆ’çŠ¶æ€ä¸º"å·²å®Œæˆ"
17. æµç¨‹ç»“æŸ

---

#### ç›´æ¥å®ç°è·¯å¾„ï¼ˆæ— éœ€ä»£ç è¯„ä¼°ï¼‰

**é˜¶æ®µä¸€ï¼šè®¡åˆ’åˆ¶å®š**
1. ç›´æ¥åˆ¶å®šå®æ–½è®¡åˆ’
2. è¿›å…¥é˜¶æ®µäºŒ

**é˜¶æ®µäºŒï¼šä»»åŠ¡æ–‡æ¡£ç”Ÿæˆ**
3. æ ¹æ®è®¡åˆ’æ‰¹é‡ç”Ÿæˆå­ä»»åŠ¡æ–‡æ¡£
   - è·¯å¾„ï¼š`/docs/dev_docs/plan/{plan_name}/task/C++_task_{task_name}.md`
   - æ ¼å¼ï¼šä¸­æ–‡ Markdown
4. è¿›å…¥é˜¶æ®µä¸‰

**é˜¶æ®µä¸‰ï¼šä»»åŠ¡å®ç°ï¼ˆåˆ†æ”¯æ“ä½œ + TDDï¼‰**
5. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**ï¼šåŸºäºå½“å‰å¼€å‘åˆ†æ”¯æ–°å»ºåˆ†æ”¯
6. **TDD å¾ªç¯å®ç°å­ä»»åŠ¡**ï¼š
   - ğŸ”´ ä¸ºå½“å‰å­ä»»åŠ¡ç¼–å†™å¤±è´¥æµ‹è¯•
   - ğŸŸ¢ ç¼–å†™æœ€å°‘é‡ä»£ç ä½¿æµ‹è¯•é€šè¿‡
   - ğŸ”µ é‡æ„ä¼˜åŒ–ä»£ç ç»“æ„
   - âœ… è¿è¡Œ `python build.py --action test` ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
7. æäº¤å­ä»»åŠ¡æ›´æ”¹åˆ° gitï¼ˆä»…æäº¤ä»£ç æ–‡ä»¶ï¼Œä¸æäº¤æ–‡æ¡£æ–‡ä»¶ï¼‰
8. æ›´æ–°ä»»åŠ¡æ–‡æ¡£çŠ¶æ€
   - å°†å¯¹åº”çš„å­ä»»åŠ¡æ–‡æ¡£çŠ¶æ€æ ‡è®°ä¸º"å·²å®Œæˆ"
   - è®°å½•å®Œæˆæ—¶é—´ä¸ç›¸å…³ commit ID
9. é‡å¤æ­¥éª¤ 6-8 ç›´åˆ°æ‰€æœ‰å­ä»»åŠ¡å®Œæˆ

**é˜¶æ®µå››ï¼šå®ŒæˆéªŒæ”¶ä¸åˆå¹¶**
10. **æœ€ç»ˆéªŒè¯**ï¼šè¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
11. **åˆå¹¶åˆ†æ”¯**ï¼šå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶å›å¼€å‘ä¸»åˆ†æ”¯
12. **æ¸…ç†åˆ†æ”¯**ï¼šåˆ é™¤å·²åˆå¹¶çš„åŠŸèƒ½åˆ†æ”¯
13. æ›´æ–°è®¡åˆ’çŠ¶æ€ä¸º"å·²å®Œæˆ"
14. æµç¨‹ç»“æŸ

---

#### æµç¨‹ç‰¹æ€§è¯´æ˜

**1. åŒè·¯å¾„è®¾è®¡**
- è¯„ä¼°è·¯å¾„ï¼šé€‚ç”¨äºéœ€è¦ä»£ç è´¨é‡è¯„ä¼°çš„åœºæ™¯ï¼Œç¡®ä¿ä»£ç è´¨é‡ç¬¦åˆè¦æ±‚
- ç›´æ¥å®ç°è·¯å¾„ï¼šé€‚ç”¨äºç®€å•ä»»åŠ¡æˆ–æ— éœ€è¯„ä¼°çš„åœºæ™¯ï¼Œæé«˜æ•ˆç‡

**2. TDD å¼ºåˆ¶é›†æˆ**
- æ¯ä¸ªå­ä»»åŠ¡å®ç°å¿…é¡»éµå¾ª Red-Green-Refactor å¾ªç¯
- æµ‹è¯•é€šè¿‡æ˜¯æäº¤ä»£ç çš„å‰ææ¡ä»¶
- æ— æµ‹è¯•ä»£ç ä¸å¾—åˆå¹¶

**3. æ‰¹é‡å¤„ç†æœºåˆ¶**
- å­ä»»åŠ¡æ–‡æ¡£æ”¯æŒæ‰¹é‡ç”Ÿæˆ
- å­ä»»åŠ¡æŒ‰é¡ºåºè‡ªåŠ¨æ‰§è¡Œ

**4. çŠ¶æ€ç®¡ç†**
- æ¯ä¸ªé˜¶æ®µå®Œæˆåæ›´æ–°çŠ¶æ€ï¼Œç¡®ä¿æµç¨‹å¯è¿½æº¯
- æ”¯æŒå›æ»šåˆ°ä»»æ„é˜¶æ®µï¼Œä¾¿äºè°ƒæ•´å’Œä¿®æ­£

**5. å¼‚å¸¸å¤„ç†**
- æµ‹è¯•å¤±è´¥æ—¶ï¼Œä¿®å¤ä»£ç ç›´åˆ°æµ‹è¯•é€šè¿‡
- æ”¯æŒéƒ¨åˆ†å®Œæˆåçš„ç»§ç»­æ‰§è¡Œï¼Œé¿å…å…¨é‡é‡åš

**6. ç‰ˆæœ¬æ§åˆ¶ä¸åˆ†æ”¯è§„èŒƒ**
- **å¼ºåˆ¶åˆ†æ”¯**ï¼šä¸¥ç¦åœ¨ä¸»åˆ†æ”¯ï¼ˆmain/masterï¼‰ç›´æ¥æäº¤ä»£ç 
- **åˆ†æ”¯å‘½å**ï¼š`feature/plan-{name}` æˆ– `fix/task-{name}`
- **åŸå­æäº¤**ï¼šæ¯ä¸ªå­ä»»åŠ¡å®Œæˆåï¼Œæäº¤ä»£ç æ›´æ”¹åˆ°å½“å‰åˆ†æ”¯
- **åˆå¹¶æ¸…ç†**ï¼šä»»åŠ¡éªŒæ”¶ååˆå¹¶å¹¶åˆ é™¤åˆ†æ”¯ï¼Œä¿æŒä»“åº“æ•´æ´

---

#### æµç¨‹å›¾

```mermaid
graph TD
    Start[å·¥ä½œæµç¨‹å…¥å£] --> IsEvaluationNeeded{æ˜¯å¦éœ€è¦ä»£ç è¯„ä¼°?}

    IsEvaluationNeeded -->|æ˜¯| EvaluationPath[è¯„ä¼°è·¯å¾„]
    IsEvaluationNeeded -->|å¦| DirectPath[ç›´æ¥å®ç°è·¯å¾„]

    %% è¯„ä¼°è·¯å¾„
    EvaluationPath --> EvalCode[è¯„ä¼°ä»£ç è´¨é‡]
    EvalCode --> WriteEvalDoc[ç¼–å†™è¯„ä¼°æ–‡æ¡£]
    WriteEvalDoc --> CreatePlan[åˆ¶å®šå®æ–½è®¡åˆ’]

    %% ç›´æ¥å®ç°è·¯å¾„
    DirectPath --> CreatePlan

    %% è®¡åˆ’é˜¶æ®µ
    CreatePlan --> GenTaskDocs[ç”Ÿæˆå­ä»»åŠ¡æ–‡æ¡£]
    GenTaskDocs --> CreateBranch[åˆ›å»ºåŠŸèƒ½åˆ†æ”¯]

    %% TDD å®ç°å¾ªç¯
    CreateBranch --> TDDCycle[TDD å¾ªç¯]
    
    subgraph TDDCycle[TDD å®ç°å¾ªç¯]
        WriteTest[ğŸ”´ ç¼–å†™å¤±è´¥æµ‹è¯•] --> WriteCode[ğŸŸ¢ ç¼–å†™æœ€å°‘ä»£ç ]
        WriteCode --> Refactor[ğŸ”µ é‡æ„ä¼˜åŒ–]
        Refactor --> RunTests[âœ… è¿è¡Œæµ‹è¯•]
    end

    TDDCycle --> TestPass{æµ‹è¯•é€šè¿‡?}
    TestPass -->|å¦| FixCode[ä¿®å¤ä»£ç ]
    FixCode --> TDDCycle

    TestPass -->|æ˜¯| CommitGit[æäº¤æ›´æ”¹åˆ°å½“å‰åˆ†æ”¯]
    CommitGit --> UpdateTaskDoc[æ›´æ–°ä»»åŠ¡æ–‡æ¡£çŠ¶æ€]

    UpdateTaskDoc --> AllTasksDone{æ‰€æœ‰å­ä»»åŠ¡å®Œæˆ?}
    AllTasksDone -->|å¦| NextTask[ç»§ç»­ä¸‹ä¸€å­ä»»åŠ¡]
    NextTask --> TDDCycle

    AllTasksDone -->|æ˜¯| FinalTest[æœ€ç»ˆéªŒè¯: è¿è¡Œå®Œæ•´æµ‹è¯•]
    FinalTest --> MergeBranch[åˆå¹¶å¹¶åˆ é™¤åˆ†æ”¯]
    MergeBranch --> UpdatePlanStatus[æ›´æ–°è®¡åˆ’çŠ¶æ€]
    UpdatePlanStatus --> End[æµç¨‹ç»“æŸ]
```
